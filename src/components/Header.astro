<header id="main-header" class="fixed top-0 left-0 w-full z-50 bg-transparent transition-colors duration-300 pt-4">
  <nav class="relative flex items-center justify-between px-4 py-4 sm:py-2 sm:px-8">

    <!-- MENU HAMBURGUESA -->
    <button id="menu-toggle" class="sm:hidden flex flex-col gap-1 z-50">
      <span class="w-6 h-0.5 bg-black/40"></span>
      <span class="w-6 h-0.5 bg-black/40"></span>
      <span class="w-6 h-0.5 bg-black/40"></span>
    </button>

    <!-- LOGO -->
    <a href="/" class="absolute left-1/2 transform -translate-x-1/2 sm:static sm:translate-x-0">
      <img src="/images/logo-black.png" alt="Logo" class="h-14 md:h-12 lg:h-16" />
    </a>

    <!-- MENU DESKTOP -->
    <div class="hidden sm:flex gap-6 lg:gap-8 text-sm lg:text-md tracking-wider flex items-center">
      <a href="/#servicios" class="hover:opacity-60 hover:scale-105 transition"> Servicios </a>
      <a href="/#proyectos" class="hover:opacity-60 hover:scale-105 transition"> Proyectos </a>
      <a href="/#testimonios" class="hover:opacity-60 hover:scale-105 transition"> Testimonios </a>
      <a href="/#about" class="hover:opacity-60 hover:scale-105 transition"> Quiénes Somos </a>
      <a href="/#contacto" class="text-[#9A8E7E] bg-white/50 font-semibold hover:opacity-70 hover:scale-105 transition border border-2 border-[#9A8E7E] px-2 py-3 tracking-widest"> Contactanos </a>
    </div>
  </nav>

  <!-- OVERLAY DE MENU MOBILE -->
  <div id="menu-overlay" class="fixed inset-0 bg-black/40 backdrop-blur-sm z-30 opacity-0 pointer-events-none transition-opacity duration-300"></div>

  <!-- MENU MOBILE -->
  <div id="mobile-menu" class="fixed top-0 left-0 h-full w-3/4 max-w-xs bg-[#f9f6ef] shadow-lg transform -translate-x-full transition-transform duration-300 z-40 p-6 flex flex-col gap-6 text-md">
    <button id="menu-close" class="self-end text-3xl text-black/40 font-semibold">&times;</button>
    <a href="/" class="hover:opacity-60 hover:scale-105 transition"> Inicio </a>
    <a href="/#servicios" class="hover:opacity-60 hover:scale-105 transition"> Servicios </a>
    <a href="/#proyectos" class="hover:opacity-60 hover:scale-105 transition"> Proyectos </a>
    <a href="/#testimonios" class="hover:opacity-60 hover:scale-105 transition"> Testimonios </a>
    <a href="/#about" class="hover:opacity-60 hover:scale-105 transition"> Quiénes Somos </a>
    <a href="/#contacto" class="text-[#9A8E7E] text-lg font-semibold hover:opacity-60 hover:scale-105 transition"> Contactanos </a>
  </div>
</header>

<script is:inline>
  window.addEventListener('DOMContentLoaded', () => {
    const toggleBtn = document.getElementById('menu-toggle');
    const closeBtn = document.getElementById('menu-close');
    const mobileMenu = document.getElementById('mobile-menu');
    const overlay = document.getElementById('menu-overlay');

    const openMenu = () => {
      mobileMenu.style.transform = 'translateX(0)';
      toggleBtn.classList.add('hidden');
      overlay.classList.remove('opacity-0', 'pointer-events-none');
      overlay.classList.add('opacity-100');
    };

    const closeMenu = () => {
      mobileMenu.style.transform = 'translateX(-100%)';
      toggleBtn.classList.remove('hidden');
      overlay.classList.remove('opacity-100');
      overlay.classList.add('opacity-0', 'pointer-events-none');
    };

    toggleBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.addEventListener('click', closeMenu);

    [...mobileMenu.querySelectorAll('a')].forEach(link => {
      link.addEventListener('click', closeMenu);
    });
  });

  // Header background scroll effect
  const header = document.getElementById('main-header');

  const handleScroll = () => {
    if (window.scrollY > 50) {
      header.classList.remove('bg-transparent');
      header.classList.add('bg-white/90', 'shadow-md');
    } else {
      header.classList.remove('bg-white/90', 'shadow-md');
      header.classList.add('bg-transparent');
    }
  };

  window.addEventListener('scroll', handleScroll);
</script>